import{_ as e,c as s,o as a,e as n}from"./app-0TPXc-ei.js";const o={},t=n(`<blockquote><p>系统版本：ubuntu-18.04.4-live-server</p></blockquote><h2 id="root用户" tabindex="-1"><a class="header-anchor" href="#root用户"><span>root用户</span></a></h2><h3 id="sudo-i" tabindex="-1"><a class="header-anchor" href="#sudo-i"><span>sudo -i</span></a></h3><p>默认情况下，系统安装之后只能以普通用户的方式登录，然后通过<code>sudo</code>命令执行一些超级权限命令。不过我们可以通过输入如下命令切换到root用户</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">sudo</span> <span class="token parameter variable">-i</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后输入当前用户的密码就可以进入到root用户</p><h2 id="root登录" tabindex="-1"><a class="header-anchor" href="#root登录"><span>root登录</span></a></h2><p>要使用root用户登录，需要先设置root用户密码</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">sudo</span> <span class="token function">passwd</span> root</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>根据提示输入root用户的密码并确认即可 现在通过<code>su</code>命令输入密码就可以切换到root用户</p><h2 id="ssh远程登录" tabindex="-1"><a class="header-anchor" href="#ssh远程登录"><span>ssh远程登录</span></a></h2><p>Ubuntu默认是不支持ssh远程连接的，如果要支持ssh我们需要先安装<code>openssh-server</code></p><h3 id="安装openssh-server" tabindex="-1"><a class="header-anchor" href="#安装openssh-server"><span>安装<code>openssh-server</code></span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> openssh-server</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>正常安装好<code>openssh-server</code>之后，就可以用普通用户的身份进行远程连接了</p><h3 id="远程连接示例" tabindex="-1"><a class="header-anchor" href="#远程连接示例"><span>远程连接示例</span></a></h3><blockquote><p>假设目标主机的</p><ul><li>ip为<code>192.168.222.133</code></li><li>用户名为<code>cnbank</code></li></ul></blockquote><p>执行如下命令即可实现远程连接</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">ssh</span> cnbank@192.168.222.133</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p><em>如果前面已经设置了root用户的密码，试试通过root用户远程连接，是不是不能登录？</em></p></blockquote><h3 id="启用root用户远程连接" tabindex="-1"><a class="header-anchor" href="#启用root用户远程连接"><span>启用root用户远程连接</span></a></h3><p>上述简单操作之后，可以实现以普通用户的身份进行远程登录，但是无法实现以root用户的身份登录，如果要实现root用户连接还需要做一点配置修改</p><ul><li><strong>修改ssh配置文件</strong></li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/ssh/sshd_config</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>找到<code>PermitRootLogin</code>配置项，取消注释并修改参数值为<code>yes</code>，保存配置文件</p><blockquote><ul><li><code>vi</code>、<code>vim</code>命令打开文本后，输入<code>i</code>可进入编辑模式，<code>:q</code>可退出</li><li>编辑文本后，点击<code>ESC</code>退出编辑模式，输入<code>:wq</code>命令可保存并退出，<code>:q!</code>强制退出不保存文本</li></ul></blockquote><ul><li><strong>重启ssh服务</strong></li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">ssh</span> restart</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>现在目标主机就支持root用户远程连接了。</p><h2 id="相关链接" tabindex="-1"><a class="header-anchor" href="#相关链接"><span>相关链接</span></a></h2><p><a href="https://www.jianshu.com/p/0e69b4e73a8c" title="Ubuntu 启用允许ssh远程登录root用户" target="_blank" rel="noopener noreferrer">Ubuntu 启用允许ssh远程登录root用户</a></p>`,31),l=[t];function i(r,c){return a(),s("div",null,l)}const p=e(o,[["render",i],["__file","ubuntu-basic-operate.html.vue"]]),h=JSON.parse('{"path":"/archive/ubuntu-basic-operate.html","title":"Ubuntu基础操作","lang":"zh-CN","frontmatter":{"title":"Ubuntu基础操作","date":"2020-06-12T11:42:54.000Z","categories":["Ubuntu"],"tags":["Ubuntu"]},"headers":[{"level":2,"title":"root用户","slug":"root用户","link":"#root用户","children":[{"level":3,"title":"sudo -i","slug":"sudo-i","link":"#sudo-i","children":[]}]},{"level":2,"title":"root登录","slug":"root登录","link":"#root登录","children":[]},{"level":2,"title":"ssh远程登录","slug":"ssh远程登录","link":"#ssh远程登录","children":[{"level":3,"title":"安装openssh-server","slug":"安装openssh-server","link":"#安装openssh-server","children":[]},{"level":3,"title":"远程连接示例","slug":"远程连接示例","link":"#远程连接示例","children":[]},{"level":3,"title":"启用root用户远程连接","slug":"启用root用户远程连接","link":"#启用root用户远程连接","children":[]}]},{"level":2,"title":"相关链接","slug":"相关链接","link":"#相关链接","children":[]}],"git":{},"filePathRelative":"archive/ubuntu-basic-operate.md"}');export{p as comp,h as data};
